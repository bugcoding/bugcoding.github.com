<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="description" content="keep coding, keep moving..."><meta name="keyword"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>SwiftNote-4</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon"><link href="/styles/site.css" rel="stylesheet"></head><body><header class="container" id="header"><div class="header"><div class="header-left"><div class="avatar"><img src="/images/avatar.jpg"></div><div class="author"><div class="author-name"><a href="/">bugcode's note</a></div><div class="about-me">思绪如风，来去匆匆。</div></div></div><div class="header-right"><ul class="navigation"><li><a href="/archives">Archives</a></li><li><a href="/about">About</a></li></ul></div><div class="about-me-mask"><div class="about-me-wrap"><div class="about-me__header"><div class="avatar"><img src="/images/avatar.jpg"></div></div><ul class="socials"><li class="social-item"><span class="label"><img src="/images/socials/github.svg" alt="https://github.com/bugcoding"></span><a href="https://github.com/bugcoding" target="_blank" title="https://github.com/bugcoding">https://github.com/bugcoding</a></li></ul></div></div></div></header><div class="container post"><section class="article"><div class="title">SwiftNote-4</div><span class="date">2016年04月27日</span><span>   </span><span class="tags"><a class="tag-link" href="/tags/Swift/">Swift</a></span><div class="content"><h2 id="for语句"><a href="#for语句" class="headerlink" title="for语句"></a>for语句</h2><p>Swift对for语句进行了增强，不但有C语言里那种普通形式的三段式的for循环，还增加了for in这种区间式for循环</p>
<a id="more"></a>
<ul>
<li><p><strong>常规for循环</strong>，同其他语言三段式的for循环，形式相同，只不过Swift省略了中间的括号</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i += <span class="number">2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"output same 5 times"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>for .. in</strong>形式的循环，可以遍历数组，字典，集合，也可以遍历一个区间，有点类型于lua的for in 语法形式</p>
<ol>
<li><p>区间内循环</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">1</span> ..&lt; <span class="number">10</span></span><br><span class="line">&#123;</span><br><span class="line">  	<span class="built_in">print</span>(<span class="string">"index = \(i)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里的index不需要let或者var声明，每次迭代都对对index自动赋值，一直到区间结束。</p>
</li>
<li><p>集合的遍历</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dictionary:[<span class="type">Int</span>:<span class="type">String</span>] = [<span class="number">1</span>:<span class="string">"Swift"</span>, <span class="number">2</span>:<span class="string">"bugcode"</span>, <span class="number">3</span>:<span class="string">"Github"</span>]</span><br><span class="line"><span class="keyword">for</span> (key, val) <span class="keyword">in</span> dictionary <span class="comment">// 以元组的形式拿出数据</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"key = \(key) value = \(val)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>遍历字符串，与遍历集合类似</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string:<span class="type">String</span> = <span class="string">"Swift Demo"</span></span><br><span class="line"><span class="keyword">for</span> char <span class="keyword">in</span> string.characters</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"single character = \(char)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h2 id="while-语句"><a href="#while-语句" class="headerlink" title="while 语句"></a>while 语句</h2><p>与C形式相同，只是去掉了括号，类似的还有repeat .. while，与C语言的do .. while形式相同，也是至少执行一次</p>
<ul>
<li><p><strong>While</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">count</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> summary = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">count</span> &lt; <span class="number">10</span></span><br><span class="line">&#123;</span><br><span class="line">    summary += <span class="built_in">count</span></span><br><span class="line">    <span class="built_in">count</span> += <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>repeat .. while</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">repeat</span></span><br><span class="line">&#123;</span><br><span class="line">  	<span class="built_in">print</span>(<span class="string">"execute 1 time at less"</span>)</span><br><span class="line">&#125;<span class="keyword">while</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h2><ul>
<li><p><strong>if语句</strong></p>
<p>与C语言形式相同，也只是省去了括号</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> flag = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> flag == <span class="number">1</span>  <span class="comment">// 这里必须是一个bool值</span></span><br><span class="line">&#123;</span><br><span class="line">  	<span class="built_in">print</span>(<span class="string">"flag == 1"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> flag == -<span class="number">1</span></span><br><span class="line">&#123;</span><br><span class="line">  	<span class="built_in">print</span>(<span class="string">"flag == -1"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">  	<span class="built_in">print</span>(<span class="string">"flag == \(flag)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>switch 语句</strong></p>
<p>Swift对switch语句进行了非常大的增加，不仅仅可以对相同与否作比较，还支持各种类型的各种形式的比较与操作。包括where子句，区间对比，元组匹配等</p>
<ol>
<li><p>常规switch，Swift的switch的case也不像C语言那样需要手动加break，不加break就会一直贯穿下去，如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">switch</span> (x)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>: <span class="comment">// 这里即是隐式的贯穿</span></span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"x == 1 or x == 2 or x == 3"</span>);</span><br><span class="line">	<span class="keyword">break</span>; 	<span class="comment">// 必须手动加break，不然会一直贯穿到下一个case</span></span><br><span class="line">  <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"default"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Swift不存在隐式的贯穿，且必须有default分支，不然会有语法错误，每个case和default下必须有可执行的语句，否则也会报语法错误，如果想要case贯穿下去，则需要显式指定，使用<strong>fallthough</strong>关键字，可以在case后有n个备选值，这样来达到某些情况的贯穿需求</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> switchTest = <span class="number">1</span></span><br><span class="line"><span class="keyword">switch</span> switchTest</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"1"</span>)</span><br><span class="line">    <span class="keyword">fallthrough</span> <span class="comment">// 显式的贯穿，case 2也会执行</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"2"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"3"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"4"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>: <span class="comment">// 多个匹配值，都会匹配到这个case</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"5 or 6 or 7"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"default case"</span>)  <span class="comment">// default必须存在</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>区间匹配的switch</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> switchTest</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span> ... <span class="number">4</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"1 &lt;= \(switchTest) &lt;= 4"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span> ..&lt; <span class="number">10</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"5 &lt;= \(switchTest) &lt; 10"</span>) <span class="comment">//  进入这个case</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"defualt"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>元组匹配，Apple开发者官网上的例子非常好，直接移过来，可以匹配具体的某一个元组，也可以匹配二个区间的元组，如果元组内某个值要匹配任意值，就使用<strong>_</strong>(下划线)来表示任意值</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> point = (<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">switch</span> point</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> (<span class="number">1</span>, <span class="number">2</span>): <span class="comment">// 匹配某个具体点</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"point (1, 2)"</span>)</span><br><span class="line"><span class="keyword">case</span> (-<span class="number">2</span> ... <span class="number">2</span>, -<span class="number">2</span> ... <span class="number">2</span>): <span class="comment">// 匹配一个区间</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"in range -2 -&gt; 2"</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="number">_</span>, <span class="number">1</span>): <span class="comment">// 只匹配第二个值</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"just matching y"</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="number">_</span>, <span class="number">_</span>): <span class="comment">// 匹配任意， 因为此处已能处理所有情况，所以这个switch可以没有default</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"match any point"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>case中的值绑定和where子句，可以在case语句中对匹配的值进行赋值给一个临时变量/常量，然后可以在case语句中直接引用这个变量/常量，where子句相当于是针对值绑定的做了一个更深入的条件匹配，这里就能体现出switch不仅仅只能做一般的普通比较，可以自定义各种条件来匹配case</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">point = (<span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line"><span class="keyword">switch</span> point</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> (<span class="number">1</span>, <span class="keyword">let</span> y): <span class="comment">// 第二个值绑定到y上，这个case里就可以使用y</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"point (1, 2)"</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="number">1</span>) <span class="keyword">where</span> x % <span class="number">2</span> == <span class="number">0</span>: <span class="comment">// x绑定到了第一个值上，且使用where子句过滤掉x不是2的倍数的值，相当是case的加强条件</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"just matching y"</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="keyword">let</span> y) <span class="keyword">where</span> x + y == <span class="number">7</span>: <span class="comment">// 二个值分别绑定在了x和y上，匹配x + y == 7的元组</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"x + y == 7"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"default handler"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h2 id="循环条件转移语句"><a href="#循环条件转移语句" class="headerlink" title="循环条件转移语句"></a>循环条件转移语句</h2><ul>
<li><p><strong>break</strong> </p>
<p>常规用法与C语言相同，中断一个循环或者switch语句，跳到循环体或者switch大括号的下一句代码继续执行。通常用在switch的情况就是想忽略某个分支而不想写无用的语句，case语句里就可以直接写break，比如default里不想处理时，就可以直接default中写break语句直接忽略掉default。</p>
<p>带标签的break，可以为某个循环或者switch指定标签，而break后带一个标签，显式指定要中断哪个循环或者switch</p>
<blockquote>
<p>labeName: for i in range</p>
<p>break labelName //  显式指定要中断的循环体，直接跳出对应的标签的循环体去下一行执行</p>
</blockquote>
</li>
<li><p><strong>continue</strong></p>
<p>常用用法也是与C语言相同，直接跳过本次循环，继续下一次循环。</p>
<p>continue也有与break相同的带标签的用法，意思就是直接开始标签所标示的的循环的下一次循环</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">outerLabel:<span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span> ... <span class="number">5</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"outter loop \(1)"</span>)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">5</span> ... <span class="number">10</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"inner loop \(j)"</span>)</span><br><span class="line">        <span class="keyword">if</span> j == <span class="number">6</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span> outerLabel <span class="comment">//  内部循环不再往后进行，直接开始下次外层循环</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​</p>
</li>
</ul>
</div></section></div><div class="container"><ul class="nav"><li>上一篇：<a href="/2016/05/01/SwiftNote-5.html">SwiftNote-5</a></li><li>下一篇：<a href="/2016/04/26/SwiftNote-3.html">SwiftNote-3</a></li></ul></div><div id="backToTop"><div class="back-arrow back-arrow-left"></div><div class="back-arrow back-arrow-right"></div></div><footer class="container"><div class="rights"><center class="span">2014-2018 bugcode.</center></div></footer><script src="/script/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/script/index.js"></script><script src="/script/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/script/index.js"></script><script src="/script/post.js"></script></body></html>